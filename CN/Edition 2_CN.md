## 在Android设备中植入测试照片

我们正在尝试解决的问题是如何将具有已知内容的图片下载到设备上以供我们的待测应用程序使用。这是任意APP利用或处理图像的要求。

你如何测试你的APP对用户提供的图片做了正确的事情呢？
> 1. 拿随便一张你的照片，将它手动上传到你的应用中。
> 2. 使用你的图片手动运行应用功能。例如：功能可能使用了某种类型的过滤器。
> 3. 仍然手动，用任何你可以使用的方式从你的应用程序中提取修改后的图片（例如：发短信给自己）。

这些步骤的目的是提供可供使用的黄金标准的前后对照的测试固件。现在，我们可以以自动化的方式为APP提供相同的初始图片，运行所需的功能，然后检索修改后的图像。我们可以逐字节地验证此修改后的图像是否与黄金标准等效，以确保应用程序功能仍能按预期运行。

在这片文章，我们将关注于如何将初始图片粘贴到设备上的问题。在Android上如何做到这一点呢？幸运的是，我们使用与iOS相同的功能：*pushFile*。在后台，*pushFile*使用一系列*ADB*命令将图片移动到设备上，然后“广播”系统以刷新媒体库。由于不同的设备制造商在不同的地方存放图片，因此你需要知道设备上存储媒体的路径。对于仿真器和某些实际设备，设备上的路径为：*/mnt/sdcard/Pictures*，所以这是一个你需要记住的重要常数。举个例子：
```
driver.pushFile("/mnt/sdcard/Pictures/myPhoto.jpg", "/path/to/photo/locally/myPhoto.jpg");
```
